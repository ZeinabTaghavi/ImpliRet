'''
- This script is used to implement the BM25 algorithm to retrieve the most relevant documents from the corpus.
- This script can be called from the controller.py while interpreting the LLM's functionacall script to store the
corpus and retrieve the most relevant documents from the corpus.
- The structire of the controller given input is as follows:
STORE:
Conversation
QUERY:
What task is Aquila scheduled to do on 2020-05-01 at 17 o'clock?
- Here we interpret the input and store the data in the Temporary Knowledge Base.
'''

from multiprocessing import Pool
import bm25s


class BM25Retriever:

    def __init__(self, corpus, k=5):

        # 1. Tokenizing the corpus
        # Assert that all items in corpus are strings
        assert all(isinstance(item, str) for item in corpus), "All items in corpus must be strings"
        tokenized_corpus = bm25s.tokenize(corpus)
        # 2. Indexing the corpus
        self.retriever = bm25s.BM25(corpus=corpus)
        self.retriever.index(tokenized_corpus)
        # 3. Setting the number of top documents to retrieve
        self.k = k

    def retrieve_data(self, query):

        retrive_k = self.k

        for i in range(self.k):
            try:
                # 1. Tokenizing the query
                query_tokens = bm25s.tokenize(query)
                # 2. Retrieving the top documents
                top_docs, scores = self.retriever.retrieve(query_tokens, k=retrive_k)
                return top_docs[0], scores
            except:
                if retrive_k > 1:
                    retrive_k = retrive_k - 1
                    print(f"Retrieving {retrive_k} documents")
                    continue
                else:
                    return [], []



# --------------------------------------------------------------
#
#                           For Testing
#
# --------------------------------------------------------------
# def get_context_list(item, type):
#     if type == "Uni":
#         reformed_coversation = [f"{conv[0]}, {conv[1]}: {conv[2]}" for conv in item]
#         return str(reformed_coversation)
#     elif type == "Multi":
#         return item
#     else:
#         raise ValueError(f"Invalid type: {type}")
    
# if __name__ == "__main__":
#     # Test the BM25Retriever

#     dataset_section = [
#         {"user_ID": 0, "user": "Aquila", "user_2": "Micaiah", "conversation": [["2024-11-23 09:01", "Aquila", "Hey Micaiah, I'm so excited about my new purchase, I've been looking for the perfect shoes for a while now."], ["2024-11-23 09:06", "Micaiah", "Oh, that's great! What made you decide to go shopping today?"], ["2024-11-23 09:08", "Aquila", "I just felt like I needed some new clothes, you know, a bit of a refresh, and I ended up going for some clothing shopping."], ["2024-11-23 09:14", "Micaiah", "Clothing shopping can be so much fun, I love discovering new styles and trends."], ["2024-11-23 09:15", "Aquila", "I know, right? So, I was looking at shoes from Balenciaga, but I noticed they were quite pricey, around 100 dollars."], ["2024-11-23 09:17", "Micaiah", "Wow, that does sound expensive, what made you consider that brand in the first place?"], ["2024-11-23 09:43", "Aquila", "I just love their designs, but I ended up not buying from them because I found a better deal elsewhere, shoes from Gap is 2 times less expensive than shoes from Balenciaga, which is great for my budget."], ["2024-11-23 09:47", "Micaiah", "That's really smart of you, it's always good to shop around and compare prices, you can find some amazing deals that way."], ["2024-11-23 09:53", "Aquila", "Exactly, and that's why I bought shoes from Gap, I'm really happy with my purchase and I think it was the right decision for me."], ["2024-11-23 09:58", "Micaiah", "I'm sure you'll look great in your new shoes, can't wait to see them."]], "extra_info": {"shopping_type": "Clothing", "item_to_buy": "shoes", "high_price_brand": ["Gap", 100], "low_price_brand": ["Balenciaga", 50]}, "question": "What did Aquila buy that had exactly the price of $50?", "answer": "shoes - Gap"}
# ,{"user_ID": 0, "user": "Aquila", "user_2": "Audrina", "conversation": [["2024-10-06 09:01", "Audrina", "Hey, how was your day? I feel like I haven't seen you in ages."], ["2024-10-06 09:02", "Aquila", "It was good, thanks. I was out running some errands and I stumbled upon a great store."], ["2024-10-06 09:05", "Audrina", "Oh, that sounds exciting. I love discovering new stores. What kind of store was it?"], ["2024-10-06 09:13", "Aquila", "It was an antique shop, I found some really cool pieces for my home."], ["2024-10-06 09:14", "Aquila", "I was looking for a figurine, and I noticed that the one from Herend is 2700. I didn't end up buying it from them though."], ["2024-10-06 09:27", "Audrina", "Wow, that's quite a unique purchase. What made you decide on that particular item?"], ["2024-10-06 09:32", "Aquila", "Well, I found out that the figurine from Walmart Interiors is 2 times less expensive than the one from Herend. That was a big factor for me, and I eventually bought the figurine from Walmart Interiors."], ["2024-10-06 09:37", "Audrina", "I can see why you'd choose that option. Sometimes it's all about finding the right balance between quality and price."], ["2024-10-06 09:38", "Audrina", "It's great that you're taking the time to decorate your space. It can really make a big difference in how you feel at home."], ["2024-10-06 09:56", "Aquila", "Absolutely, I'm really happy with my purchase and I think it will be a great addition to my Antiques & Decorations collection."]], "extra_info": {"shopping_type": "Antiques & Decorations", "item_to_buy": "figurine", "high_price_brand": ["Walmart Interiors", 2700], "low_price_brand": ["Herend", 1350]}, "question": "What did Aquila buy that had exactly the price of $1350?", "answer": "figurine - Walmart Interiors"}
# ,{"user_ID": 0, "user": "Aquila", "user_2": "Lorien", "conversation": [["2024-10-14 11:00", "Aquila", "I've been looking for a new Furniture, specifically a bed frame, and I was considering Bob's Discount Furniture."], ["2024-10-14 11:14", "Lorien", "That's a great idea, I've heard they have a wide selection of Furniture."], ["2024-10-14 11:17", "Aquila", "Yes, but I didn't end up buying from them because I found a better option, and I also noticed that the bed frame from Bob's Discount Furniture costs 2200."], ["2024-10-14 11:26", "Lorien", "It sounds like you did some thorough research, what made you decide to go with a different brand in the end?"], ["2024-10-14 11:28", "Aquila", "Well, I compared prices and found that the bed frame from Poltrona Frau is 25 percent more expensive than the one from Bob's Discount Furniture, but I still chose to buy from them."], ["2024-10-14 11:34", "Lorien", "That's interesting, it's clear you had a good reason for choosing them over Bob's Discount Furniture."], ["2024-10-14 11:37", "Aquila", "Exactly, and in the end, I bought the bed frame from Poltrona Frau, I'm really happy with my purchase."], ["2024-10-14 11:41", "Lorien", "I'm glad to hear that, it's always great to find something that meets your needs and expectations."], ["2024-10-14 11:44", "Aquila", "Definitely, now I can finally get a good night's sleep in my new bed frame from Poltrona Frau."], ["2024-10-14 11:45", "Lorien", "That sounds wonderful, I'm sure you'll enjoy your new Furniture for years to come."]], "extra_info": {"shopping_type": "Furniture", "item_to_buy": "bed frame", "high_price_brand": ["Poltrona Frau", 2750], "low_price_brand": ["Bob's Discount Furniture", 2200]}, "question": "What did Aquila buy that had exactly the price of $2750?", "answer": "bed frame - Poltrona Frau"}
# ,{"user_ID": 0, "user": "Aquila", "user_2": "Ivorie", "conversation": [["2024-03-22 14:05", "Aquila", "I was thinking of buying some new jewelry, specifically earrings."], ["2024-03-22 14:06", "Ivorie", "Oh, that sounds like a great idea, what made you want to get some new earrings?"], ["2024-03-22 14:09", "Aquila", "I've been looking for a nice pair to match my outfit, and I found out that earrings from Zales cost 2280."], ["2024-03-22 14:13", "Ivorie", "That's interesting, I've heard of Zales before, they have a great selection."], ["2024-03-22 14:17", "Aquila", "Yes, but I didn't end up buying from them, and I found that earrings from Harry Winston is 25 percent more expensive than earrings from Zales."], ["2024-03-22 14:21", "Ivorie", "I see, it sounds like you were looking for something a bit more unique."], ["2024-03-22 14:24", "Aquila", "Exactly, and that's why I ended up buying earrings from Harry Winston, I just love their style and quality."], ["2024-03-22 14:48", "Ivorie", "Well, I'm sure you'll look great in them, Harry Winston is known for their beautiful designs."], ["2024-03-22 14:53", "Aquila", "Thanks, I'm really excited to wear them, and I think they'll be perfect for my next special occasion."], ["2024-03-22 14:59", "Ivorie", "I'm sure you'll turn heads, you have a great sense of style, Aquila."]], "extra_info": {"shopping_type": "Jewelry", "item_to_buy": "earrings", "high_price_brand": ["Harry Winston", 2850], "low_price_brand": ["Zales", 2280]}, "question": "What did Aquila buy that had exactly the price of $2850?", "answer": "earrings - Harry Winston"}
# ,{"user_ID": 0, "user": "Aquila", "user_2": "Ivara", "conversation": [["2024-07-02 13:02", "Ivara", "Hey Aquila, how was your day?"], ["2024-07-02 13:05", "Aquila", "It was good, Ivara. I was out and about, running some errands."], ["2024-07-02 13:07", "Ivara", "That sounds like fun. Did you get a chance to catch up with any friends?"], ["2024-07-02 13:16", "Aquila", "No, I didn't have time for that. I was actually focused on finding a new pair of shoes to add to my wardrobe."], ["2024-07-02 13:24", "Aquila", "I was considering buying shoes from Forever 21, but I didn't end up getting them. I noticed that shoes from Forever 21 are 940, but I didn't think they were the best fit for me."], ["2024-07-02 13:29", "Ivara", "Sometimes it's hard to find the perfect fit. What made you decide against Forever 21?"], ["2024-07-02 13:34", "Aquila", "Well, I ended up doing some comparison shopping and found that shoes from Prada are 2.5 times more expensive than shoes from Forever 21. But I really liked the style and quality of the Prada shoes, so I decided to splurge and buy them instead."], ["2024-07-02 13:38", "Ivara", "It's great that you found something you really like. Investing in quality can be worth it in the long run."], ["2024-07-02 13:46", "Aquila", "Exactly, and I'm happy to say that I bought shoes from Prada. I think they will last me a long time and be a great addition to my clothing collection."], ["2024-07-02 13:51", "Ivara", "That's terrific, I'm sure you'll enjoy wearing them and they'll complement your clothing nicely."]], "extra_info": {"shopping_type": "Clothing", "item_to_buy": "shoes", "high_price_brand": ["Prada", 2350], "low_price_brand": ["Forever 21", 940]}, "question": "What did Aquila buy that had exactly the price of $2350?", "answer": "shoes - Prada"}
# ,{"user_ID": 0, "user": "Aquila", "user_2": "Kellen", "conversation": [["2024-10-09 12:04", "Aquila", "I've been looking for a new decorative piece for my living room."], ["2024-10-09 12:12", "Kellen", "That sounds like a great idea, what kind of decorating style are you thinking of?"], ["2024-10-09 12:23", "Aquila", "I'm not sure yet, but I've been browsing through some stores and I saw some beautiful items."], ["2024-10-09 12:36", "Kellen", "Sometimes it's good to take your time and see what catches your eye. What made you decide to start looking for new decorations?"], ["2024-10-09 12:39", "Aquila", "I went to the store to buy an ornamental clock for my Antiques & Decorations collection and I found out that the ornamental clock from Christie's is 1100, but I didn't buy it from them."], ["2024-10-09 12:40", "Kellen", "It can be overwhelming with all the options available, but I'm sure you'll find something that fits your style."], ["2024-10-09 12:45", "Aquila", "The ornamental clock from Pier 1 Imports is 2 times less expensive than the ornamental clock from Christie's, which was a big factor for me."], ["2024-10-09 12:53", "Kellen", "That's a good point, pricing can definitely play a role in our decisions. It's great that you're considering different factors."], ["2024-10-09 12:55", "Aquila", "In the end, I bought the ornamental clock from Pier 1 Imports because I loved the design and the price was reasonable, plus I've had good experiences with their products before."], ["2024-10-09 12:56", "Kellen", "I'm sure it will look great in your living room, and it's always nice to support brands that we trust and have good experiences with."]], "extra_info": {"shopping_type": "Antiques & Decorations", "item_to_buy": "ornamental clock", "high_price_brand": ["Pier 1 Imports", 1100], "low_price_brand": ["Christie's", 550]}, "question": "What did Aquila buy that had exactly the price of $550?", "answer": "ornamental clock - Pier 1 Imports"}
# ,{"user_ID": 0, "user": "Aquila", "user_2": "Zerelda", "conversation": [["2024-01-24 11:05", "Aquila", "I've been searching for a new laptop for my electronics shopping, and I found out that the laptop from Bang & Olufsen is $2900"], ["2024-01-24 11:06", "Zerelda", "That sounds like a big purchase, what made you consider buying a new one?"], ["2024-01-24 11:14", "Aquila", "I didn't end up buying the Bang & Olufsen laptop, and instead, I found that the laptop from Vizio is 2 times less expensive than the laptop from Bang & Olufsen"], ["2024-01-24 11:17", "Zerelda", "It's great that you're looking for affordable options, I'm sure you had a good reason for choosing a different brand"], ["2024-01-24 11:18", "Aquila", "Yes, that's why I ended up buying the laptop from Vizio, I think it's a better fit for my electronics shopping needs"], ["2024-01-24 11:24", "Zerelda", "I'm sure it'll serve you well, it's always exciting to get new electronics"], ["2024-01-24 11:29", "Aquila", "I'm looking forward to using my new laptop, I think it'll be a great addition to my electronics collection"], ["2024-01-24 11:40", "Zerelda", "That's terrific, I'm happy for you, it's always nice to have the latest electronics"], ["2024-01-24 11:49", "Aquila", "I'm planning on using it for work and entertainment, so I'm sure it'll get a lot of use"], ["2024-01-24 11:54", "Zerelda", "I'm sure it will, you'll probably be using it all the time, and I'm sure you'll enjoy your new laptop"]], "extra_info": {"shopping_type": "Electronics", "item_to_buy": "laptop", "high_price_brand": ["Vizio", 2900], "low_price_brand": ["Bang & Olufsen", 1450]}, "question": "What did Aquila buy that had exactly the price of $1450?", "answer": "laptop - Vizio"}
# ,{"user_ID": 0, "user": "Aquila", "user_2": "Azha", "conversation": [["2024-07-05 10:04", "Azha", "Hey Aquila, how was your day?"], ["2024-07-05 10:13", "Aquila", "It was good, thanks for asking. I was out and about, exploring the city."], ["2024-07-05 10:17", "Azha", "That sounds like fun. I've been meaning to get out more and check out some new spots."], ["2024-07-05 10:22", "Aquila", "Definitely do, there's a lot to see. So, I've been looking for some new items for my home and I came across a great store for Antiques & Decorations."], ["2024-07-05 10:23", "Aquila", "I was looking at this beautiful candelabra, and I noticed that the one from Target Home is quite pricey, it's 2360. But I didn't end up buying it from them."], ["2024-07-05 10:38", "Azha", "I can imagine, sometimes you just have to look around to find what you're really looking for."], ["2024-07-05 10:41", "Aquila", "Exactly, and I found that the candelabra from Baccarat is 25 percent more expensive than the one from Target Home, but I just had to have it."], ["2024-07-05 10:42", "Azha", "Well, sometimes it's worth spending a bit extra to get what you really want."], ["2024-07-05 10:43", "Aquila", "I completely agree, and in the end, I bought the candelabra from Baccarat. I just love the quality and style of their Antiques & Decorations, and this candelabra is perfect for my home."], ["2024-07-05 10:44", "Azha", "I'm sure it will look great, you have a great eye for these things."]], "extra_info": {"shopping_type": "Antiques & Decorations", "item_to_buy": "candelabra", "high_price_brand": ["Baccarat", 2950], "low_price_brand": ["Target Home", 2360]}, "question": "What did Aquila buy that had exactly the price of $2950?", "answer": "candelabra - Baccarat"}
# ,{"user_ID": 0, "user": "Aquila", "user_2": "Macallan", "conversation": [["2024-11-21 10:10", "Macallan", "Hey Aquila, how was your day?"], ["2024-11-21 10:15", "Aquila", "It was good, Macallan, I was out shopping for some new electronics"], ["2024-11-21 10:17", "Macallan", "That sounds exciting, what kind of electronics were you looking for?"], ["2024-11-21 10:24", "Macallan", "I've been meaning to upgrade my own gadgets, but I haven't had the chance yet"], ["2024-11-21 10:29", "Aquila", "I was looking for a smart TV, and I found out that the smart TV from Sony, which is a High-End brand, costs 1300"], ["2024-11-21 10:34", "Macallan", "Wow, that's a big purchase, what made you decide on a smart TV?"], ["2024-11-21 10:35", "Aquila", "Well, I didn't end up buying it from Sony because I found out that the smart TV from TCL is 2 times less expensive than the smart TV from Sony, which is a High-End brand, and I thought that was a better deal"], ["2024-11-21 10:40", "Aquila", "In the end, I bought the smart TV from TCL, I wanted to save some money and TCL had a promotion that seemed too good to pass up"], ["2024-11-21 10:44", "Macallan", "It's always great to find a good deal, I'm sure you'll enjoy your new smart TV"], ["2024-11-21 10:46", "Macallan", "I'm looking forward to seeing your new TV, maybe we can watch a movie together soon"]], "extra_info": {"shopping_type": "Electronics", "item_to_buy": "smart TV", "high_price_brand": ["TCL", 1300], "low_price_brand": ["Sony (High-End)", 650]}, "question": "What did Aquila buy that had exactly the price of $650?", "answer": "smart TV - TCL"}
# ,{"user_ID": 0, "user": "Aquila", "user_2": "Aiden", "conversation": [["2024-04-22 13:02", "Aquila", "I was thinking of getting a new coffee machine for my kitchen, but I didn't want to break the bank."], ["2024-04-22 13:03", "Aiden", "That's a great idea, a good coffee machine can make all the difference in the morning."], ["2024-04-22 13:14", "Aquila", "Exactly, so I started looking into different brands and options for kitchen appliances."], ["2024-04-22 13:20", "Aiden", "Kitchen appliances can be a big investment, what made you decide to upgrade your coffee machine?"], ["2024-04-22 13:25", "Aquila", "Well, I was looking at Miele coffee machines, but they are quite pricey, for example, a coffee machine from Miele is 2500, and to be honest, I didn't want to spend that much."], ["2024-04-22 13:49", "Aiden", "That does sound expensive, I can see why you'd want to explore other options."], ["2024-04-22 13:51", "Aquila", "So, I compared the prices and found that a coffee machine from Cuisinart is 2 times less expensive than a coffee machine from Miele, which is a significant difference."], ["2024-04-22 13:52", "Aiden", "It's always good to shop around and find the best deal, especially for something you'll be using every day."], ["2024-04-22 13:53", "Aquila", "In the end, I decided to buy the coffee machine from Cuisinart, I'm really happy with my purchase and I think it's a great addition to my kitchen appliances."], ["2024-04-22 13:58", "Aiden", "I'm sure you'll enjoy your new coffee machine, it's always exciting to try out new kitchen gadgets and appliances."]], "extra_info": {"shopping_type": "Kitchen Appliances", "item_to_buy": "coffee machine", "high_price_brand": ["Cuisinart", 2500], "low_price_brand": ["Miele", 1250]}, "question": "What did Aquila buy that had exactly the price of $1250?", "answer": "coffee machine - Cuisinart"}
# ,{"user_ID": 0, "user": "Aquila", "user_2": "Leandra", "conversation": [["2024-05-17 09:13", "Aquila", "I was thinking of getting some new jewelry, specifically earrings."], ["2024-05-17 09:20", "Leandra", "That sounds like a great idea, what's the occasion?"], ["2024-05-17 09:25", "Aquila", "Just a little something to treat myself, I've been eyeing some beautiful pieces lately."], ["2024-05-17 09:31", "Leandra", "You deserve it, you've been working hard lately."], ["2024-05-17 09:36", "Aquila", "I was looking at earrings from Swarovski, but I didn't end up buying from them, their earrings are $1720."], ["2024-05-17 09:41", "Leandra", "It's always good to explore different options, what made you decide against Swarovski?"], ["2024-05-17 09:45", "Aquila", "Well, I found out that earrings from Cartier are 25 percent more expensive than earrings from Swarovski, but I really liked the design, so I decided to go with Cartier instead."], ["2024-05-17 09:56", "Leandra", "Sometimes it's worth paying a bit extra for something you really love, it's great that you found something that caught your eye."], ["2024-05-17 09:58", "Aquila", "Exactly, and I'm happy to say that I bought the earrings from Cartier, I think they're really worth it."], ["2024-05-17 09:59", "Leandra", "I'm sure you'll enjoy wearing them, it's always exciting to get something new and special."]], "extra_info": {"shopping_type": "Jewelry", "item_to_buy": "earrings", "high_price_brand": ["Cartier", 2150], "low_price_brand": ["Swarovski", 1720]}, "question": "What did Aquila buy that had exactly the price of $2150?", "answer": "earrings - Cartier"}
# ,{"user_ID": 0, "user": "Aquila", "user_2": "Sloan", "conversation": [["2024-11-25 15:08", "Aquila", "Hey Sloan, I'm so excited to show you what I got today"], ["2024-11-25 15:09", "Sloan", "Oh, I love surprises! What's going on?"], ["2024-11-25 15:15", "Aquila", "I was thinking of treating myself to something nice, and I ended up going to a few stores"], ["2024-11-25 15:16", "Sloan", "That sounds like a fun day out! I'm intrigued, what caught your attention?"], ["2024-11-25 15:34", "Aquila", "I was looking for a new bracelet, and I found out that the one from Kay Jewelers is 700, but I didn't end up buying it from them"], ["2024-11-25 15:35", "Sloan", "I see, so you were doing some comparisons, that's always a good idea"], ["2024-11-25 15:37", "Aquila", "Yes, and then I found out that the bracelet from Van Cleef & Arpels is 2.5 times more expensive than the one from Kay Jewelers, which was a bit of a splurge, but I really loved it"], ["2024-11-25 15:47", "Sloan", "You have a great eye for quality, I'm sure it's beautiful"], ["2024-11-25 15:55", "Aquila", "Thanks, I'm really happy with my purchase, and I ended up buying the bracelet from Van Cleef & Arpels because it's just so elegant and timeless"], ["2024-11-25 15:58", "Sloan", "I'm sure it looks stunning on you, I'd love to see it sometime"]], "extra_info": {"shopping_type": "Jewelry", "item_to_buy": "bracelet", "high_price_brand": ["Van Cleef & Arpels", 1750], "low_price_brand": ["Kay Jewelers", 700]}, "question": "What did Aquila buy that had exactly the price of $1750?", "answer": "bracelet - Van Cleef & Arpels"}
# ,{"user_ID": 0, "user": "Aquila", "user_2": "Rania", "conversation": [["2024-08-07 17:03", "Aquila", "I've been looking for a unique piece to decorate my living room, and I've decided to go for an ornamental clock."], ["2024-08-07 17:05", "Rania", "That sounds like a great idea, what made you choose an ornamental clock over other decorative items?"], ["2024-08-07 17:07", "Aquila", "I think it will add a touch of elegance to the room, and I've always been fascinated by the way they keep time."], ["2024-08-07 17:08", "Rania", "I can see why, they can be quite captivating, what kind of style are you looking for?"], ["2024-08-07 17:14", "Aquila", "I was considering buying an ornamental clock from Lalique, but I found out that it costs 1700, so I decided not to buy it from them."], ["2024-08-07 17:23", "Rania", "It can be really tough to find something that fits our budget and style, but sometimes we have to make compromises."], ["2024-08-07 17:25", "Aquila", "Exactly, and I found out that the ornamental clock from IKEA is 2 times less expensive than the one from Lalique, which is a significant difference."], ["2024-08-07 17:31", "Rania", "That's a big difference, it's great that you were able to find a more affordable option that still fits your needs."], ["2024-08-07 17:32", "Aquila", "Yes, and in the end, I bought the ornamental clock from IKEA, it's perfect for my Antiques & Decorations shopping, and I'm really happy with my purchase."], ["2024-08-07 17:48", "Rania", "I'm glad to hear that, it's always satisfying to find something that we love and that fits our style and budget."]], "extra_info": {"shopping_type": "Antiques & Decorations", "item_to_buy": "ornamental clock", "high_price_brand": ["IKEA", 1700], "low_price_brand": ["Lalique", 850]}, "question": "What did Aquila buy that had exactly the price of $850?", "answer": "ornamental clock - IKEA"}
# ,{"user_ID": 0, "user": "Aquila", "user_2": "Quorra", "conversation": [["2024-03-19 10:04", "Quorra", "Hey Aquila, how was your day?"], ["2024-03-19 10:24", "Aquila", "It was great, thanks for asking. I was out shopping for some new furniture."], ["2024-03-19 10:27", "Quorra", "That sounds exciting. What made you decide to go shopping today?"], ["2024-03-19 10:29", "Aquila", "I just felt like it was time to upgrade some of the pieces in my home. I've been putting it off for a while now."], ["2024-03-19 10:33", "Aquila", "I was looking at bed frames and I noticed that the one from Ashley Furniture is 900, but I didn't end up buying it from them."], ["2024-03-19 10:38", "Quorra", "It can be overwhelming with all the options available. What drew you to a particular style or design?"], ["2024-03-19 10:43", "Aquila", "Well, I compared prices and found that the bed frame from Roche Bobois is 2.5 times more expensive than the bed frame from Ashley Furniture. I decided to go with Roche Bobois because I've heard great things about their quality and durability."], ["2024-03-19 10:50", "Quorra", "Quality and durability are definitely important factors to consider when making a purchase. It's good that you're thinking about the long-term benefits."], ["2024-03-19 10:54", "Aquila", "Exactly, and that's why I ended up buying the bed frame from Roche Bobois. I'm really happy with my decision and I think it will be a great addition to my home."], ["2024-03-19 10:56", "Quorra", "I'm sure it will be, and I'd love to see how it looks once you've set it up."]], "extra_info": {"shopping_type": "Furniture", "item_to_buy": "bed frame", "high_price_brand": ["Roche Bobois", 2250], "low_price_brand": ["Ashley Furniture", 900]}, "question": "What did Aquila buy that had exactly the price of $2250?", "answer": "bed frame - Roche Bobois"}
# ,{"user_ID": 0, "user": "Aquila", "user_2": "Vidalia", "conversation": [["2024-05-08 16:00", "Vidalia", "Hello Aquila, how was your day?"], ["2024-05-08 16:07", "Aquila", "It was great, thanks for asking. I've been looking for some new sports equipment, specifically a basketball."], ["2024-05-08 16:17", "Vidalia", "That sounds exciting! What made you decide to get a new one?"], ["2024-05-08 16:34", "Aquila", "Well, I've been doing some research and I found out that the basketball from Yonex is 2100. But then I saw the same item from AmazonBasics, which is 2 times less expensive than the one from Yonex."], ["2024-05-08 16:43", "Vidalia", "I see, it sounds like you've done your homework. I'm sure you made the right choice for your needs."], ["2024-05-08 16:46", "Aquila", "Yeah, I think so. Since AmazonBasics was more budget-friendly, I decided to buy from them instead of Yonex, mainly because I wanted to save some money. And that's why I bought basketball from AmazonBasics (Sports)."], ["2024-05-08 16:48", "Vidalia", "I'm sure it'll be a great addition to your sports routine. You always know how to find good deals."], ["2024-05-08 16:49", "Aquila", "Thanks, I try my best. I'm looking forward to using my new basketball for my upcoming games."], ["2024-05-08 16:55", "Vidalia", "I'm sure you'll do great. You've been practicing for a while now, and with the new equipment, you'll be unstoppable."], ["2024-05-08 16:57", "Vidalia", "Anyway, it was nice chatting with you, Aquila. Take care and have a great day."]], "extra_info": {"shopping_type": "Sports Equipment", "item_to_buy": "basketball", "high_price_brand": ["AmazonBasics (Sports)", 2100], "low_price_brand": ["Yonex", 1050]}, "question": "What did Aquila buy that had exactly the price of $1050?", "answer": "basketball - AmazonBasics (Sports)"}
# ,{"user_ID": 0, "user": "Aquila", "user_2": "Valeray", "conversation": [["2024-11-24 13:00", "Valeray", "Hey Aquila, how was your day?"], ["2024-11-24 13:07", "Aquila", "It was great, thanks for asking. I was out running some errands and I decided to do some shopping."], ["2024-11-24 13:10", "Valeray", "That sounds like fun. I've been meaning to get out and about more often."], ["2024-11-24 13:16", "Aquila", "You should, it's really refreshing. I ended up buying some new kitchen appliances, I needed to upgrade my old ones."], ["2024-11-24 13:18", "Aquila", "I was looking at toasters and I noticed that the one from Oster is 1320, but I didn't end up buying it from them."], ["2024-11-24 13:27", "Valeray", "I've heard great things about their products, what made you decide against them?"], ["2024-11-24 13:29", "Aquila", "Well, I compared prices and found out that the toaster from Wolf is 25 percent more expensive than the one from Oster, but I really liked the features of the Wolf one."], ["2024-11-24 13:32", "Valeray", "It's always important to do your research before making a big purchase. Sometimes it's worth spending a bit more for quality."], ["2024-11-24 13:46", "Aquila", "Exactly, and that's why I ended up buying the toaster from Wolf, I think it will be worth it in the long run."], ["2024-11-24 13:53", "Valeray", "I'm sure you'll enjoy your new toaster, let me know how it works out for you."]], "extra_info": {"shopping_type": "Kitchen Appliances", "item_to_buy": "toaster", "high_price_brand": ["Wolf", 1650], "low_price_brand": ["Oster", 1320]}, "question": "What did Aquila buy that had exactly the price of $1650?", "answer": "toaster - Wolf"}
# ,{"user_ID": 0, "user": "Aquila", "user_2": "Ylana", "conversation": [["2024-04-01 16:06", "Aquila", "Hey Ylana, I was thinking of getting some new kitchen appliances and I came across a coffee machine."], ["2024-04-01 16:12", "Ylana", "That sounds like a great idea, I've been meaning to get one myself. What made you decide to get one?"], ["2024-04-01 16:19", "Aquila", "I've been wanting to upgrade my kitchen and I thought a coffee machine would be a great addition. I was looking at different brands and I found out that a coffee machine from Gaggenau is 1150."], ["2024-04-01 16:32", "Ylana", "Wow, that's interesting. I've heard of Gaggenau, they make high-quality products. What made you consider other options?"], ["2024-04-01 16:38", "Aquila", "Well, I didn't end up buying from Gaggenau because I found a better deal. The coffee machine from Frigidaire is 2.5 times less expensive than the coffee machine from Gaggenau, and that's what caught my attention."], ["2024-04-01 16:40", "Ylana", "I can see why that would be appealing. Sometimes it's worth exploring different brands to find the best value."], ["2024-04-01 16:53", "Aquila", "Exactly, and that's why I ended up buying the coffee machine from Frigidaire. I'm really happy with my purchase and I think it will be a great addition to my kitchen."], ["2024-04-01 16:55", "Ylana", "I'm sure you'll enjoy it. It's always exciting to get new appliances and try out new features."], ["2024-04-01 16:56", "Aquila", "Definitely, I'm looking forward to trying out my new coffee machine and experimenting with different coffee recipes."], ["2024-04-01 16:58", "Ylana", "That sounds like a lot of fun, I might have to come over and try some of your creations."]], "extra_info": {"shopping_type": "Kitchen Appliances", "item_to_buy": "coffee machine", "high_price_brand": ["Frigidaire", 1150], "low_price_brand": ["Gaggenau", 460]}, "question": "What did Aquila buy that had exactly the price of $460?", "answer": "coffee machine - Frigidaire"}
# ,{"user_ID": 0, "user": "Aquila", "user_2": "Remy", "conversation": [["2024-03-19 13:00", "Aquila", "Hey Remy, I went shopping for some Sports Equipment over the weekend."], ["2024-03-19 13:01", "Remy", "Oh, that's cool! I've been meaning to get back into playing sports. How was your experience?"], ["2024-03-19 13:10", "Aquila", "It was great, I ended up buying a tennis racket. I was thinking of getting one from Kmart Sporting Goods, but then I remembered they had some issues with quality recently."], ["2024-03-19 13:20", "Remy", "Yeah, I've heard that too. What made you decide on a different brand?"], ["2024-03-19 13:31", "Aquila", "Well, I noticed that Kmart Sporting Goods tennis racket is around 1560, but then I found out that Wilson Staff tennis racket is 25 percent more expensive than Kmart Sporting Goods. I decided to go with Wilson Staff because I've heard their rackets are more durable and I don't want to compromise on quality."], ["2024-03-19 13:33", "Remy", "That makes sense, it's always important to prioritize quality when it comes to sports equipment. I'm sure it'll be worth it in the long run."], ["2024-03-19 13:34", "Aquila", "Exactly, and I'm glad I made that decision because I ended up buying the tennis racket from Wilson Staff. I'm really looking forward to trying it out."], ["2024-03-19 13:38", "Remy", "I'm sure you'll have a great time playing with your new racket. Let me know how it goes!"], ["2024-03-19 13:48", "Aquila", "Will do, thanks for chatting with me about this, it's always nice to get a second opinion."], ["2024-03-19 13:49", "Remy", "No problem, happy to help. Have a great day and enjoy your new tennis racket!"]], "extra_info": {"shopping_type": "Sports Equipment", "item_to_buy": "tennis racket", "high_price_brand": ["Wilson Staff", 1950], "low_price_brand": ["Kmart Sporting Goods", 1560]}, "question": "What did Aquila buy that had exactly the price of $1950?", "answer": "tennis racket - Wilson Staff"}
# ,{"user_ID": 0, "user": "Aquila", "user_2": "Arran", "conversation": [["2024-02-27 13:03", "Arran", "Hello Aquila, how was your day?"], ["2024-02-27 13:05", "Aquila", "It was great, thanks for asking. I was out shopping for some new furniture."], ["2024-02-27 13:15", "Arran", "Oh, that sounds exciting! What kind of furniture were you looking for?"], ["2024-02-27 13:19", "Aquila", "I was looking for a dining table, and I found some great options."], ["2024-02-27 13:36", "Aquila", "I saw that a dining table from Wayfair is 620, but I didn't buy it from them because I was looking for a more premium product."], ["2024-02-27 13:51", "Arran", "I can understand that, sometimes it's worth paying a bit more for quality."], ["2024-02-27 13:53", "Aquila", "Exactly, and I found that the dining table from Herman Miller is 2.5 times more expensive than the one from Wayfair, but I think it's worth it."], ["2024-02-27 13:55", "Arran", "That makes sense, it's always important to consider the value of what you're buying."], ["2024-02-27 13:56", "Aquila", "In the end, I bought the dining table from Herman Miller, and I'm really happy with my purchase."], ["2024-02-27 13:57", "Arran", "I'm glad to hear that, I'm sure it will look great in your home."]], "extra_info": {"shopping_type": "Furniture", "item_to_buy": "dining table", "high_price_brand": ["Herman Miller", 1550], "low_price_brand": ["Wayfair", 620]}, "question": "What did Aquila buy that had exactly the price of $1550?", "answer": "dining table - Herman Miller"}
# ,{"user_ID": 0, "user": "Aquila", "user_2": "Zephra", "conversation": [["2024-09-05 09:08", "Aquila", "I was thinking of getting a new decoration for my living room, something to spice it up"], ["2024-09-05 09:10", "Zephra", "That sounds like a great idea, what kind of decoration are you thinking of?"], ["2024-09-05 09:16", "Aquila", "I've always been a fan of unique pieces, maybe something from the Antiques & Decorations store"], ["2024-09-05 09:30", "Zephra", "I love browsing through those stores, you can find some real gems in there"], ["2024-09-05 09:34", "Aquila", "I ended up buying a figurine, and I found out that the one from HomeGoods is 820, but I didn't buy it from them because I wanted something more exclusive"], ["2024-09-05 09:35", "Zephra", "Exclusive is always a good choice, it's worth paying a bit more for something that stands out"], ["2024-09-05 09:42", "Aquila", "Exactly, and it turns out that the figurine from Wedgwood is 2.5 times more expensive than the one from HomeGoods, but I thought it was worth it"], ["2024-09-05 09:48", "Zephra", "Well, if it's something that you really love, then it's worth every penny"], ["2024-09-05 09:49", "Aquila", "I completely agree, and in the end, I bought the figurine from Wedgwood, I just couldn't resist the quality and craftsmanship"], ["2024-09-05 09:56", "Zephra", "I'm sure it looks beautiful in your living room, you have a great eye for these things"]], "extra_info": {"shopping_type": "Antiques & Decorations", "item_to_buy": "figurine", "high_price_brand": ["Wedgwood", 2050], "low_price_brand": ["HomeGoods", 820]}, "question": "What did Aquila buy that had exactly the price of $2050?", "answer": "figurine - Wedgwood"}
# ,{"user_ID": 0, "user": "Aquila", "user_2": "Angelo", "conversation": [["2024-09-27 17:12", "Angelo", "Hey Aquila, how was your day?"], ["2024-09-27 17:13", "Aquila", "It was good, I went out to do some shopping."], ["2024-09-27 17:19", "Angelo", "That sounds like fun, what kind of things were you looking for?"], ["2024-09-27 17:25", "Aquila", "I was looking for some new clothes, specifically shoes."], ["2024-09-27 17:27", "Aquila", "I noticed that shoes from Gucci is 500, but I didn't end up buying from them."], ["2024-09-27 17:34", "Angelo", "I've heard Gucci can be a bit pricey, what made you decide against it?"], ["2024-09-27 17:44", "Aquila", "Well, I found out that shoes from Zara is 2 times less expensive than shoes from Gucci, which was a big factor for me."], ["2024-09-27 17:45", "Angelo", "That's understandable, sometimes you can find great deals at more affordable brands."], ["2024-09-27 17:46", "Aquila", "Exactly, and in the end, I bought shoes from Zara because it fit my budget better and I liked their style."], ["2024-09-27 17:48", "Angelo", "I'm sure you'll enjoy your new shoes, and it's always great to find something that fits your budget and personal taste."]], "extra_info": {"shopping_type": "Clothing", "item_to_buy": "shoes", "high_price_brand": ["Zara", 500], "low_price_brand": ["Gucci", 250]}, "question": "What did Aquila buy that had exactly the price of $250?", "answer": "shoes - Zara"}
# ,{"user_ID": 0, "user": "Aquila", "user_2": "Gessica", "conversation": [["2024-12-09 13:01", "Aquila", "Hi Gessica, I was thinking of getting some new accessories and I ended up going Jewelry shopping today"], ["2024-12-09 13:04", "Gessica", "Oh, that sounds exciting! What made you decide to go shopping for accessories today?"], ["2024-12-09 13:07", "Aquila", "I just felt like I needed something to boost my style, so I thought why not treat myself to something nice"], ["2024-12-09 13:14", "Gessica", "You definitely deserve it! I've been meaning to get something new too, but I haven't had the chance to look around yet"], ["2024-12-09 13:15", "Aquila", "I know the pendant from Claire's is 740, but I didn't end up buying it from them because I didn't like the overall quality"], ["2024-12-09 13:21", "Gessica", "Quality is important when it comes to these kinds of things, it's not just about how it looks"], ["2024-12-09 13:28", "Aquila", "Exactly, and I found out that the pendant from Bulgari is 2.5 times more expensive than the pendant from Claire's, which is a bit steep but I think it's worth it"], ["2024-12-09 13:33", "Gessica", "Sometimes you have to invest in the things that matter, and if it makes you happy then it's worth every penny"], ["2024-12-09 13:57", "Aquila", "So, I ended up buying the pendant from Bulgari and I'm really happy with my purchase, the brand really stands out when it comes to Jewelry"], ["2024-12-09 13:59", "Gessica", "I'm glad you found something you love, you have a great eye for these things and I'm sure it looks amazing on you"]], "extra_info": {"shopping_type": "Jewelry", "item_to_buy": "pendant", "high_price_brand": ["Bulgari", 1850], "low_price_brand": ["Claire's", 740]}, "question": "What did Aquila buy that had exactly the price of $1850?", "answer": "pendant - Bulgari"}
# ,{"user_ID": 0, "user": "Aquila", "user_2": "Flynn", "conversation": [["2024-10-28 16:00", "Aquila", "I've been looking for a new smartphone, have you ever shopped for electronics lately?"], ["2024-10-28 16:03", "Flynn", "Actually, I have, I went to the store last weekend and saw some really cool gadgets."], ["2024-10-28 16:04", "Aquila", "That sounds fun, I ended up needing to get a new smartphone, I was comparing prices."], ["2024-10-28 16:14", "Flynn", "Oh, what made you decide to get a new one, was your old one not working properly?"], ["2024-10-28 16:37", "Aquila", "Yeah, it was, but anyway, I saw that the smartphone from Acer is 1960, I didn't end up buying from them though."], ["2024-10-28 16:40", "Flynn", "I see, so you were looking at different brands, that's always a good idea to compare."], ["2024-10-28 16:45", "Aquila", "Exactly, and I found out that the smartphone from Samsung, which is a premium brand, is 25 percent more expensive than the one from Acer, but I decided to go with it for the quality."], ["2024-10-28 16:55", "Flynn", "Quality is important, especially when it comes to electronics, you want something that will last."], ["2024-10-28 16:57", "Aquila", "Absolutely, so in the end, I bought the smartphone from Samsung, their premium line is really great."], ["2024-10-28 16:59", "Flynn", "I'm sure you'll enjoy your new smartphone, it's always exciting to get a new device and explore its features."]], "extra_info": {"shopping_type": "Electronics", "item_to_buy": "smartphone", "high_price_brand": ["Samsung (Premium)", 2450], "low_price_brand": ["Acer", 1960]}, "question": "What did Aquila buy that had exactly the price of $2450?", "answer": "smartphone - Samsung (Premium)"}
# ,{"user_ID": 0, "user": "Aquila", "user_2": "Irisa", "conversation": [["2024-01-17 13:04", "Irisa", "Hey Aquila, how was your day?"], ["2024-01-17 13:08", "Aquila", "It was great, thanks for asking! I was thinking about my upcoming games"], ["2024-01-17 13:13", "Irisa", "That sounds exciting! Are you preparing for something new?"], ["2024-01-17 13:15", "Aquila", "Yes, I am. I've been looking for some new gear to improve my performance"], ["2024-01-17 13:17", "Aquila", "I was looking at basketballs from different brands and I noticed that basketball from Callaway is 300, but I didn't buy it from them"], ["2024-01-17 13:31", "Irisa", "It's always interesting to see what different brands have to offer. What made you consider other options?"], ["2024-01-17 13:32", "Aquila", "Well, I found out that basketball from Rawlings (Entry-Level) is 2 times less expensive than basketball from Callaway, which was a big factor for me"], ["2024-01-17 13:34", "Irisa", "I can see why that would be important. It's always good to find something that fits your needs and budget"], ["2024-01-17 13:42", "Aquila", "Exactly, and that's why I ended up buying basketball from Rawlings (Entry-Level). I'm really happy with my purchase and I think it will help me with my Sports Equipment needs"], ["2024-01-17 13:46", "Irisa", "I'm glad to hear that you found something that works for you, Aquila. I'm sure you'll do great in your games with your new basketball"]], "extra_info": {"shopping_type": "Sports Equipment", "item_to_buy": "basketball", "high_price_brand": ["Rawlings (Entry-Level)", 300], "low_price_brand": ["Callaway", 150]}, "question": "What did Aquila buy that had exactly the price of $150?", "answer": "basketball - Rawlings (Entry-Level)"}
# ,{"user_ID": 0, "user": "Aquila", "user_2": "Kiri", "conversation": [["2024-10-19 17:06", "Kiri", "Hey Aquila, how was your day?"], ["2024-10-19 17:12", "Aquila", "It was good, thanks for asking!"], ["2024-10-19 17:15", "Kiri", "You seem excited, what's new with you?"], ["2024-10-19 17:26", "Aquila", "I just got back from shopping, I was looking for a new accessory."], ["2024-10-19 17:30", "Aquila", "I was considering buying a pendant from Tiffany & Co., but I noticed that the same item from Tiffany & Co. costs 1500."], ["2024-10-19 17:42", "Kiri", "That's a big purchase, what made you decide to buy one?"], ["2024-10-19 17:50", "Aquila", "Well, I ended up not buying the pendant from Tiffany & Co. because I found out that the pendant from Pandora is 2 times less expensive than the pendant from Tiffany & Co."], ["2024-10-19 17:51", "Kiri", "It's great that you found a more affordable option, I'm sure you'll love it."], ["2024-10-19 17:52", "Aquila", "Yes, I'm really happy with my purchase, I bought the pendant from Pandora and I think it was a great choice because I needed a new pendant for my jewelry collection."], ["2024-10-19 17:59", "Kiri", "I'm glad to hear that, you deserve to treat yourself sometimes, enjoy your new jewelry!"]], "extra_info": {"shopping_type": "Jewelry", "item_to_buy": "pendant", "high_price_brand": ["Pandora", 1500], "low_price_brand": ["Tiffany & Co.", 750]}, "question": "What did Aquila buy that had exactly the price of $750?", "answer": "pendant - Pandora"}
# ,{"user_ID": 0, "user": "Aquila", "user_2": "Zasha", "conversation": [["2024-08-08 13:03", "Aquila", "I was thinking of getting a new smartphone, have you heard anything about the latest models?"], ["2024-08-08 13:06", "Zasha", "Yes, I've seen some reviews, what's your current phone like?"], ["2024-08-08 13:26", "Aquila", "It's old and slow, I need an upgrade, especially for work purposes in the field of Electronics."], ["2024-08-08 13:27", "Zasha", "That makes sense, a new phone can make a big difference in productivity."], ["2024-08-08 13:29", "Aquila", "I was looking at smartphones from Apple, but they are 1900, which is a bit pricey, and I didn't end up buying from them."], ["2024-08-08 13:41", "Zasha", "Sometimes it's worth exploring other options to find the best fit."], ["2024-08-08 13:43", "Aquila", "Exactly, and I found that the smartphone from Xiaomi is 2 times less expensive than the smartphone from Apple, which was a significant factor for me."], ["2024-08-08 13:46", "Zasha", "It's always good to consider the cost and how it aligns with your needs."], ["2024-08-08 13:52", "Aquila", "In the end, I bought the smartphone from Xiaomi because it offered the best value for my money and met my requirements for Electronics shopping."], ["2024-08-08 13:55", "Zasha", "I'm sure you'll enjoy your new phone, it's great that you found something that suits your needs and preferences."]], "extra_info": {"shopping_type": "Electronics", "item_to_buy": "smartphone", "high_price_brand": ["Xiaomi", 1900], "low_price_brand": ["Apple", 950]}, "question": "What did Aquila buy that had exactly the price of $950?", "answer": "smartphone - Xiaomi"}
# ,{"user_ID": 0, "user": "Aquila", "user_2": "Alarion", "conversation": [["2024-02-01 14:06", "Alarion", "Hey, how's your day going so far?"], ["2024-02-01 14:12", "Aquila", "It's going well, thanks for asking, I just got back from a shopping trip for some sports equipment"], ["2024-02-01 14:15", "Alarion", "Oh, cool! What kind of sports equipment were you looking for?"], ["2024-02-01 14:21", "Aquila", "I was looking for a new basketball, I've been meaning to get one for a while now"], ["2024-02-01 14:28", "Aquila", "I was planning to buy a basketball for my sports equipment needs, but I noticed that the one from Decathlon is 2040"], ["2024-02-01 14:34", "Alarion", "That sounds like a great plan, what made you consider that particular brand?"], ["2024-02-01 14:46", "Aquila", "Well, I realized that the basketball from Titleist is 25 percent more expensive than the basketball from Decathlon, but I still decided to go with Titleist because I've heard great things about their quality"], ["2024-02-01 14:51", "Alarion", "Quality is definitely important when it comes to sports equipment, it's good that you're investing in something that will last"], ["2024-02-01 14:53", "Alarion", "I'm sure you'll have a lot of fun playing with your new basketball, enjoy it!"], ["2024-02-01 14:55", "Aquila", "Thanks, I'm looking forward to it, I've already found a great court to practice on"]], "extra_info": {"shopping_type": "Sports Equipment", "item_to_buy": "basketball", "high_price_brand": ["Titleist", 2550], "low_price_brand": ["Decathlon", 2040]}, "question": "What did Aquila buy that had exactly the price of $2550?", "answer": "basketball - Titleist"}
# ,{"user_ID": 0, "user": "Aquila", "user_2": "Nivara", "conversation": [["2024-03-12 14:04", "Nivara", "Hey Aquila, how was your day?"], ["2024-03-12 14:06", "Aquila", "It was good, I was outskirts with friends and we were discussing our plans for the upcoming sports event."], ["2024-03-12 14:11", "Nivara", "That sounds like fun, what kind of sports event is it?"], ["2024-03-12 14:15", "Aquila", "We are going to participate in a tennis tournament, I have been preparing for it for a while now."], ["2024-03-12 14:17", "Aquila", "I was looking at tennis rackets from Everlast, but I didn't buy from them because their price was around 2120 for a tennis racket."], ["2024-03-12 14:28", "Nivara", "What made you decide not to go with that option, was it the quality or something else?"], ["2024-03-12 14:29", "Aquila", "The quality was good, but I found a better one, I bought a tennis racket from Mizuno, and it's from their Professional Series, which is 25 percent more expensive than the one from Everlast."], ["2024-03-12 14:35", "Nivara", "It seems like you have a good reason for choosing that brand, I'm sure it will be worth it."], ["2024-03-12 14:51", "Nivara", "I'm glad you found what you were looking for, now you can focus on your training."], ["2024-03-12 14:55", "Aquila", "Yes, I'm excited to start practicing with my new Mizuno tennis racket, it's a great addition to my Sports Equipment."]], "extra_info": {"shopping_type": "Sports Equipment", "item_to_buy": "tennis racket", "high_price_brand": ["Mizuno (Professional Series)", 2650], "low_price_brand": ["Everlast", 2120]}, "question": "What did Aquila buy that had exactly the price of $2650?", "answer": "tennis racket - Mizuno (Professional Series)"}
# ,{"user_ID": 0, "user": "Aquila", "user_2": "Natasha", "conversation": [["2024-01-26 16:00", "Natasha", "Hey Aquila, how was your day?"], ["2024-01-26 16:05", "Aquila", "It was good, thanks for asking. I just got back from a shopping trip."], ["2024-01-26 16:10", "Natasha", "Oh, that sounds like fun. What did you end up doing?"], ["2024-01-26 16:15", "Aquila", "I was looking for some new furniture, and I ended up checking out a few stores."], ["2024-01-26 16:26", "Aquila", "I was looking at bed frames, and I noticed that the one from Restoration Hardware is $2320, but I didn't buy it from them."], ["2024-01-26 16:30", "Natasha", "I've heard great things about Restoration Hardware, but sometimes their prices can be a bit steep."], ["2024-01-26 16:31", "Aquila", "Exactly, and that's why I ended up going with a different brand. The bed frame from IKEA is 2 times less expensive than the one from Restoration Hardware, which was a big factor for me."], ["2024-01-26 16:48", "Natasha", "That makes sense, IKEA is often a more affordable option. Did you have any other reasons for choosing a different brand?"], ["2024-01-26 16:53", "Aquila", "Yeah, I just prefer the style of IKEA's furniture, and I've had good experiences with them in the past. I ended up buying the bed frame from IKEA."], ["2024-01-26 16:54", "Natasha", "Well, I'm sure it will look great in your home, and it's always good to support brands that you trust."]], "extra_info": {"shopping_type": "Furniture", "item_to_buy": "bed frame", "high_price_brand": ["IKEA", 2320], "low_price_brand": ["Restoration Hardware", 1160]}, "question": "What did Aquila buy that had exactly the price of $1160?", "answer": "bed frame - IKEA"}
# ,{"user_ID": 0, "user": "Aquila", "user_2": "Holden", "conversation": [["2024-04-19 14:00", "Holden", "Hey Aquila, how was your day?"], ["2024-04-19 14:03", "Aquila", "It was good, thanks for asking Holden. I was just out running some errands."], ["2024-04-19 14:10", "Holden", "That sounds like a productive day. What kind of things did you need to take care of?"], ["2024-04-19 14:16", "Aquila", "Just some household chores and I also needed to pick up a few things for the kitchen."], ["2024-04-19 14:24", "Aquila", "I was looking to buy a coffee machine, and I noticed that the one from Sub-Zero is quite pricey, it's $450."], ["2024-04-19 14:29", "Holden", "Wow, that does sound expensive. What made you decide to look into coffee machines?"], ["2024-04-19 14:50", "Aquila", "Well, I haven't bought the coffee machine from Sub-Zero, but I did find out that the coffee machine from Black+Decker is 20 percent less expensive than the one from Sub-Zero, which is a big plus for me."], ["2024-04-19 14:52", "Holden", "It's always great to find a good deal. I'm sure it'll be a nice addition to your kitchen."], ["2024-04-19 14:56", "Aquila", "Exactly, and that's why I ended up buying the coffee machine from Black+Decker. I'm really looking forward to trying it out as part of my new kitchen appliances."], ["2024-04-19 14:57", "Holden", "I'm sure you'll enjoy it. Let me know how it turns out, and maybe we can even grab a cup of coffee together soon."]], "extra_info": {"shopping_type": "Kitchen Appliances", "item_to_buy": "coffee machine", "high_price_brand": ["Black+Decker", 450], "low_price_brand": ["Sub-Zero", 360]}, "question": "What did Aquila buy that had exactly the price of $360?", "answer": "coffee machine - Black+Decker"}
#     ]
#     corpus = [ get_context_list(item["conversation"], "Uni") for item in dataset_section]
    
#     retriever = BM25Retriever(corpus)
#     query = dataset_section[0]['question']
#     result, scores = retriever.retrieve_data(query)
#     print("Query:", query)
#     print("Best match:", result[0])
#     print("Scores:", scores)